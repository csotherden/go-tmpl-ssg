<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{if .Title}}{{.Title}} - {{end}}Go Template SSG</title>
    <meta name="description" content="{{if .Description}}{{.Description}}{{else}}A simple, flexible static site generator using Go templates{{end}}">
    <!-- Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom theme CSS -->
    <link rel="stylesheet" href="/assets/theme.css">
    <!-- Favicon -->
    <link rel="icon" href="/assets/favicon.ico">
    <!-- Custom script to highlight the current page in the sidebar -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Find the current path
            const path = window.location.pathname;
            // Find the sidebar item with a matching path
            const sidebarItems = document.querySelectorAll('.go-sidebar-item');
            sidebarItems.forEach(item => {
                if (item.getAttribute('href') === path || 
                    (path !== '/' && item.getAttribute('href').startsWith(path))) {
                    item.classList.add('active');
                }
            });
        });
    </script>
</head>
<body class="flex flex-col min-h-screen bg-white pt-16">
    <!-- Navigation -->
    {{template "navbar.tmpl" .}}

    <div class="flex-1 flex md:flex-row flex-col max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Sidebar (hidden on mobile) -->
        <div class="md:block md:w-64 shrink-0 pr-8 hidden">
            {{template "sidebar.tmpl" .}}
        </div>

        <!-- Mobile navigation (for responsive design) -->
        <div class="md:hidden mb-6">
            <div class="border border-gray-200 rounded-md p-3">
                <details>
                    <summary class="text-go-blue font-medium cursor-pointer">
                        Navigation
                    </summary>
                    <div class="mt-3">
                        {{template "sidebar.tmpl" .}}
                    </div>
                </details>
            </div>
        </div>

        <!-- Main content -->
        <main class="flex-1">
            {{if .Title}}<h1 class="text-3xl font-bold mb-6">{{.Title}}</h1>{{end}}
            {{template "PageContent" .}}
        </main>
    </div>

    <!-- Footer -->
    {{template "footer.tmpl" .}}
</body>
</html> 